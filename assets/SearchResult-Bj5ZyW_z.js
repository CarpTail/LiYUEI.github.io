import{u as $,i as Ee,l as te,m as j,p as ae,P as le,q as se,s as Ae,k as Q,v as P,x as re,y as I,j as t,z as ue,R as _,A as Be,B as ie,C as oe,D as ne,E as ce,G as Te,H as ve,I as he,J as He,K as D,L as me,M as Ce,N as de,O as G,Q as O,S as pe}from"./app-lQDKQioq.js";const ye=["/","/intro.html","/01.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/","/02.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/","/03.%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/","/04.%E4%BB%A3%E7%A0%81%E5%BA%93%E7%A0%94%E7%A9%B6/","/05.Web%E6%8A%80%E6%9C%AF/","/10.%E9%9A%8F%E7%AC%94%E7%9F%AD%E8%AE%B0/","/10.%E9%9A%8F%E7%AC%94%E7%9F%AD%E8%AE%B0/%E6%BB%95%E7%8E%8B%E9%98%81%E5%BA%8F.html","/10.%E9%9A%8F%E7%AC%94%E7%9F%AD%E8%AE%B0/%E7%BD%91%E7%AB%99%E6%8E%A8%E8%8D%90.html","/code_articles/","/code_articles/yaml%E6%95%99%E7%A8%8B.html","/demo/","/demo/disable.html","/demo/layout.html","/demo/markdown.html","/demo/page.html","/01.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/","/01.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/","/02.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/01.C/","/02.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/02.C__/","/02.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/03.Shell/","/02.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/04.Python/","/02.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/05.Java/","/02.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/06.Go/","/02.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/07.JavaScript/","/03.%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/CMake/01.CMake%E7%AE%80%E4%BB%8B.html","/03.%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/CMake/","/03.%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Conan/","/03.%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Git/01.Git%E7%AE%80%E4%BB%8B.html","/03.%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Git/","/03.%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/GitHub%20Action/01.GitHub%20Action%20%E5%85%A5%E9%97%A8.html","/03.%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/GitHub%20Action/","/03.%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/vcpkg/","/04.%E4%BB%A3%E7%A0%81%E5%BA%93%E7%A0%94%E7%A9%B6/Chromium/","/05.Web%E6%8A%80%E6%9C%AF/HTTP/01.HTTP%E7%AE%80%E4%BB%8B.html","/05.Web%E6%8A%80%E6%9C%AF/HTTP/","/05.Web%E6%8A%80%E6%9C%AF/HTTP/01.%E8%B5%84%E6%BA%90%E5%92%8CURL/","/05.Web%E6%8A%80%E6%9C%AF/HTTP/02.HTTP%E6%8C%87%E5%8D%97/01.HTTP%E6%A6%82%E8%BF%B0.html","/05.Web%E6%8A%80%E6%9C%AF/HTTP/02.HTTP%E6%8C%87%E5%8D%97/02.HTTP%E7%9A%84%E5%8F%91%E5%B1%95.html","/05.Web%E6%8A%80%E6%9C%AF/HTTP/02.HTTP%E6%8C%87%E5%8D%97/03.HTTP%E6%B6%88%E6%81%AF.html","/05.Web%E6%8A%80%E6%9C%AF/HTTP/02.HTTP%E6%8C%87%E5%8D%97/04.%E5%85%B8%E5%9E%8B%E7%9A%84HTTP%E4%BC%9A%E8%AF%9D.html","/05.Web%E6%8A%80%E6%9C%AF/HTTP/02.HTTP%E6%8C%87%E5%8D%97/05.HTTP1.x%E7%9A%84%E8%BF%9E%E6%8E%A5%E7%AE%A1%E7%90%86.html","/05.Web%E6%8A%80%E6%9C%AF/HTTP/02.HTTP%E6%8C%87%E5%8D%97/06.%E5%8D%8F%E8%AE%AE%E5%8D%87%E7%BA%A7%E6%9C%BA%E5%88%B6.html","/05.Web%E6%8A%80%E6%9C%AF/HTTP/02.HTTP%E6%8C%87%E5%8D%97/07.HTTP%E5%AE%89%E5%85%A8%E4%B9%8B%E4%B8%80.html","/05.Web%E6%8A%80%E6%9C%AF/HTTP/02.HTTP%E6%8C%87%E5%8D%97/08.HTTP%E5%AE%89%E5%85%A8%E4%B9%8B%E4%BA%8C.html","/05.Web%E6%8A%80%E6%9C%AF/HTTP/02.HTTP%E6%8C%87%E5%8D%97/","/05.Web%E6%8A%80%E6%9C%AF/HTTP/03.HTTP%E8%BF%9B%E9%98%B6/01.HTTP%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6(CORS).html","/05.Web%E6%8A%80%E6%9C%AF/HTTP/03.HTTP%E8%BF%9B%E9%98%B6/02.HTTP%E8%AE%A4%E8%AF%81.html","/05.Web%E6%8A%80%E6%9C%AF/HTTP/03.HTTP%E8%BF%9B%E9%98%B6/03.HTTP%E7%BC%93%E5%AD%98.html","/05.Web%E6%8A%80%E6%9C%AF/HTTP/03.HTTP%E8%BF%9B%E9%98%B6/04.HTTP%E5%8E%8B%E7%BC%A9.html","/05.Web%E6%8A%80%E6%9C%AF/HTTP/03.HTTP%E8%BF%9B%E9%98%B6/05.HTTP%E6%9D%A1%E4%BB%B6%E8%AF%B7%E6%B1%82.html","/05.Web%E6%8A%80%E6%9C%AF/HTTP/03.HTTP%E8%BF%9B%E9%98%B6/06.HTTP%E5%86%85%E5%AE%B9%E5%8D%8F%E5%95%86.html","/05.Web%E6%8A%80%E6%9C%AF/HTTP/03.HTTP%E8%BF%9B%E9%98%B6/07.HTTP%20cookie.html","/05.Web%E6%8A%80%E6%9C%AF/HTTP/03.HTTP%E8%BF%9B%E9%98%B6/08.HTTP%E8%8C%83%E5%9B%B4%E8%AF%B7%E6%B1%82.html","/05.Web%E6%8A%80%E6%9C%AF/HTTP/03.HTTP%E8%BF%9B%E9%98%B6/09.HTTP%E9%87%8D%E5%AE%9A%E5%90%91.html","/05.Web%E6%8A%80%E6%9C%AF/HTTP/03.HTTP%E8%BF%9B%E9%98%B6/","/404.html","/category/","/category/%E7%BE%8E%E6%96%87/","/category/%E5%B8%B8%E7%94%A8%E7%BD%91%E7%AB%99/","/category/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/","/category/%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/","/category/%E6%8C%87%E5%8D%97/","/category/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/","/category/%E5%BA%93/","/category/%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86/","/category/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/","/tag/","/tag/%E7%BE%8E%E6%96%87/","/tag/%E5%B8%B8%E7%94%A8%E7%BD%91%E7%AB%99/","/tag/yaml/","/tag/%E7%A6%81%E7%94%A8/","/tag/%E5%8A%A0%E5%AF%86/","/tag/%E5%B8%83%E5%B1%80/","/tag/markdown/","/tag/%E9%A1%B5%E9%9D%A2%E9%85%8D%E7%BD%AE/","/tag/%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/","/tag/cmake/","/tag/c__/","/tag/git/","/tag/github/","/tag/http/","/article/","/star/","/timeline/"],Fe="SEARCH_PRO_QUERY_HISTORY",H=$(Fe,[]),Pe=()=>{const{queryHistoryCount:a}=D,l=a>0;return{enabled:l,queryHistory:H,addQueryHistory:s=>{l&&(H.value=Array.from(new Set([s,...H.value.slice(0,a-1)])))},removeQueryHistory:s=>{H.value=[...H.value.slice(0,s),...H.value.slice(s+1)]}}},S=a=>ye[a.id]+("anchor"in a?`#${a.anchor}`:""),De="SEARCH_PRO_RESULT_HISTORY",{resultHistoryCount:M}=D,m=$(De,[]),ge=()=>{const a=M>0;return{enabled:a,resultHistory:m,addResultHistory:l=>{if(a){const s={link:S(l),display:l.display};"header"in l&&(s.header=l.header),m.value=[s,...m.value.slice(0,M-1)]}},removeResultHistory:l=>{m.value=[...m.value.slice(0,l),...m.value.slice(l+1)]}}},be=a=>{const l=ne(),s=j(),g=ce(),r=Q(0),p=P(()=>r.value>0),T=Te([]);return ve(()=>{const{search:v,terminate:b}=he(),C=He(i=>{const d=i.join(" "),{searchFilter:k=c=>c,splitWord:f,suggestionsFilter:x,...h}=l.value;d?(r.value+=1,v(i.join(" "),s.value,h).then(c=>k(c,d,s.value,g.value)).then(c=>{r.value-=1,T.value=c}).catch(c=>{console.warn(c),r.value-=1,r.value||(T.value=[])})):T.value=[]},D.searchDelay-D.suggestDelay);I([a,s],([i])=>C(i),{immediate:!0}),me(()=>{b()})}),{isSearching:p,results:T}};var fe=Ee({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(a,{emit:l}){const s=te(),g=j(),r=ae(le),{enabled:p,addQueryHistory:T,queryHistory:v,removeQueryHistory:b}=Pe(),{enabled:C,resultHistory:i,addResultHistory:d,removeResultHistory:k}=ge(),f=p||C,x=se(a,"queries"),{results:h,isSearching:c}=be(x),A=Ae({isQuery:!0,index:0}),o=Q(0),n=Q(0),q=P(()=>f&&(v.value.length>0||i.value.length>0)),R=P(()=>h.value.length>0),W=P(()=>h.value[o.value]||null),U=()=>{const{isQuery:e,index:E}=A;E===0?(A.isQuery=!e,A.index=e?i.value.length-1:v.value.length-1):A.index=E-1},J=()=>{const{isQuery:e,index:E}=A;E===(e?v.value.length-1:i.value.length-1)?(A.isQuery=!e,A.index=0):A.index=E+1},Y=()=>{o.value=o.value>0?o.value-1:h.value.length-1,n.value=W.value.contents.length-1},z=()=>{o.value=o.value<h.value.length-1?o.value+1:0,n.value=0},K=()=>{n.value<W.value.contents.length-1?n.value+=1:z()},N=()=>{n.value>0?n.value-=1:Y()},w=e=>e.map(E=>pe(E)?E:t(E[0],E[1])),V=e=>{if(e.type==="customField"){const E=Ce[e.index]||"$content",[u,F=""]=de(E)?E[g.value].split("$content"):E.split("$content");return e.display.map(B=>t("div",w([u,...B,F])))}return e.display.map(E=>t("div",w(E)))},y=()=>{o.value=0,n.value=0,l("updateQuery",""),l("close")},X=()=>p?t("ul",{class:"search-pro-result-list"},t("li",{class:"search-pro-result-list-item"},[t("div",{class:"search-pro-result-title"},r.value.queryHistory),v.value.map((e,E)=>t("div",{class:["search-pro-result-item",{active:A.isQuery&&A.index===E}],onClick:()=>{l("updateQuery",e)}},[t(G,{class:"search-pro-result-type"}),t("div",{class:"search-pro-result-content"},e),t("button",{class:"search-pro-remove-icon",innerHTML:O,onClick:u=>{u.preventDefault(),u.stopPropagation(),b(E)}})]))])):null,Z=()=>C?t("ul",{class:"search-pro-result-list"},t("li",{class:"search-pro-result-list-item"},[t("div",{class:"search-pro-result-title"},r.value.resultHistory),i.value.map((e,E)=>t(_,{to:e.link,class:["search-pro-result-item",{active:!A.isQuery&&A.index===E}],onClick:()=>{y()}},()=>[t(G,{class:"search-pro-result-type"}),t("div",{class:"search-pro-result-content"},[e.header?t("div",{class:"content-header"},e.header):null,t("div",e.display.map(u=>w(u)).flat())]),t("button",{class:"search-pro-remove-icon",innerHTML:O,onClick:u=>{u.preventDefault(),u.stopPropagation(),k(E)}})]))])):null;return re("keydown",e=>{if(a.isFocusing){if(R.value){if(e.key==="ArrowUp")N();else if(e.key==="ArrowDown")K();else if(e.key==="Enter"){const E=W.value.contents[n.value];T(a.queries.join(" ")),d(E),s.push(S(E)),y()}}else if(C){if(e.key==="ArrowUp")U();else if(e.key==="ArrowDown")J();else if(e.key==="Enter"){const{index:E}=A;A.isQuery?(l("updateQuery",v.value[E]),e.preventDefault()):(s.push(i.value[E].link),y())}}}}),I([o,n],()=>{var e;(e=document.querySelector(".search-pro-result-list-item.active .search-pro-result-item.active"))==null||e.scrollIntoView(!1)},{flush:"post"}),()=>t("div",{class:["search-pro-result-wrapper",{empty:a.queries.length?!R.value:!q.value}],id:"search-pro-results"},a.queries.length?c.value?t(ue,{hint:r.value.searching}):R.value?t("ul",{class:"search-pro-result-list"},h.value.map(({title:e,contents:E},u)=>{const F=o.value===u;return t("li",{class:["search-pro-result-list-item",{active:F}]},[t("div",{class:"search-pro-result-title"},e||r.value.defaultTitle),E.map((B,ee)=>{const L=F&&n.value===ee;return t(_,{to:S(B),class:["search-pro-result-item",{active:L,"aria-selected":L}],onClick:()=>{T(a.queries.join(" ")),d(B),y()}},()=>[B.type==="text"?null:t(B.type==="title"?Be:B.type==="heading"?ie:oe,{class:"search-pro-result-type"}),t("div",{class:"search-pro-result-content"},[B.type==="text"&&B.header?t("div",{class:"content-header"},B.header):null,t("div",V(B))])])})])})):r.value.emptyResult:f?q.value?[X(),Z()]:r.value.emptyHistory:r.value.emptyResult)}});export{fe as default};
